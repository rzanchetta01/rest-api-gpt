# project-p-back

+ 1 -> have golang 1.20
+ 2 -> donwload repo
+ 3 -> open root folder in terminal
+ 4 -> run "go run main.go"
+ 5 -> have python3
+ 6 -> run for linux
+ 6.1 -> chmod +x install_py_dependencies_bash.sh
+ 6.2 -> ./install_py_dependencies_bash.sh
+ 7 -> run for windows
+ 7.1 -> .\install_py_dependencies_powershell.ps1

## endpoints
all endpoints located in api/route.go

# api/user -> post new account
body example:
```json
{
	"username" : "rodrigo_test9",
	"password" : "12345"
}
```

correct case response:
```json
{
	"code": 201,
	"message": "Created"
}
```
# api/user/login ->login endpoint
body example:
```json
{
	"username" : "rodrigo_test1",
	"password" : "12345"
}
```

correct case response:
```json
{
	"code": 200,
	"data": {
		"acess_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRob3JpemVkIjp0cnVlLCJleHAiOjE2OTE0MjE0MjUsInVzZXJfaWQiOiI2NGNlZTBjNGQyMzNlYjkyZTYwN2RkODgifQ.d51rSXfrVHjqNqpdlcXQUSIIHYclpAadq-KRhwdIj8U",
		"expired": 1691421425,
		"user_id": "64cee0c4d233eb92e607dd88"
	},
	"message": "OK"
}
```

# api/graphql/gpt -> post for request  openAi products response, token required
body example:
```graphql
query {
	Gpt3dot5(message: "Exemplo de mensagem generica", user_id: "64cee0c4d233eb92e607dd88") {
		id
		object
		created
		model
		usage {
			prompt_tokens
			completion_tokens
			total_tokens
		}
		choices {
			index
			message {
				role
				content
			}
			finish_reason
		}
	}
	GptDallE(message: "Exemplo d messagem generica", user_id: "64cee0c4d233eb92e607dd88") {
		created
		data {
			url
		}
	}
}
```

correct case response:
```json
{
	
	"code": 200,
	"data": {
		"data": {
			"Gpt3dot5": {
				"choices": [
					{
						"finish_reason": "stop",
						"index": 0,
						"message": {
							"content": "\"Bom dia/tarde/noite,\n\nGostaria de informar que vou estar ausente do escritório por algum tempo. Durante minha ausência, estarei indisponível para responder e-mails ou atender ligações. Caso precisem de assistência imediata, por favor, entre em contato com [nome da pessoa responsável] pelo telefone [número de telefone] ou pelo e-mail [endereço de e-mail].\n\nAgradeço antecipadamente pela compreensão e estarei de volta em breve.\n\nAtenciosamente,\n[Seu nome]\"",
							"role": "assistant"
						}
					}
				],
				"created": 1691878672,
				"id": "chatcmpl-7mrDcw18fUu6vCmfk92qh9PviXuEq",
				"model": "gpt-3.5-turbo-0613",
				"object": "chat.completion",
				"usage": {
					"completion_tokens": 124,
					"prompt_tokens": 13,
					"total_tokens": 137
				}
			},
			"GptDallE": {
				"created": 1691878684,
				"data": [
					{
						"url": "https://oaidalleapiprodscus.blob.core.windows.net/private/org-nEh6gcKPC7BiDfMnqCdSYoK1/user-ku4C7EFD5vlnqo1FZKuJF3B4/img-iMTqqUDn2A32LDAzSjStFfLx.png?st=2023-08-12T21%3A18%3A04Z&se=2023-08-12T23%3A18%3A04Z&sp=r&sv=2021-08-06&sr=b&rscd=inline&rsct=image/png&skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2023-08-12T17%3A19%3A51Z&ske=2023-08-13T17%3A19%3A51Z&sks=b&skv=2021-08-06&sig=sx3cJWz0DC9fe1TLJnLdMm/A3gtcvZrydgkUzg891cs%3D"
					}
				]
			}
		}
	},
	"message": "OK"
}
```

# api/ia/craiyon post for get craiyon website ai images generations, tokens required
body example:
```json
{
	"user_id" : "64ce8fd1253858dc940ae8e4",
	"prompt" : "I want a car",
	"style" : "Photo"
}
```

correct case response:
```json
{
	"code": 200,
	"data": {
		"images": [
			"https://img.craiyon.com/2023-08-11/22888778a1c745609e3c62b471bebdb3be9cca12.webp",
			"https://img.craiyon.com/2023-08-11/f9be6fae936249a496132f68efd1c640be9cca14.webp",
			"https://img.craiyon.com/2023-08-11/278ad9ca754b476c9efdcdc539c5806dbe9cca11.webp",
			"https://img.craiyon.com/2023-08-11/38d0e062206f490fae4b18c8d977e0bebe9cca14.webp",
			"https://img.craiyon.com/2023-08-11/c6dda9e0d5b24c0ea0339d27f6f06940be9cca14.webp",
			"https://img.craiyon.com/2023-08-11/082d8ed2853141f1bbfe11a5a66978c4be9cca12.webp",
			"https://img.craiyon.com/2023-08-11/0914e524bd7a4bdc86c7b3e43334a5abbe9cca11.webp",
			"https://img.craiyon.com/2023-08-11/8d21aa704dc246aeb5638784a815aa02be9cca14.webp",
			"https://img.craiyon.com/2023-08-11/9503554e5f604be9b071f7417c286ad8be9cca10.webp"
		],
		"user_id": "64ce8fd1253858dc940ae8e4",
		"style": "Photo",
		"template_message": "Images generated by craiyon.com"
	},
	"message": "OK"
}
```
